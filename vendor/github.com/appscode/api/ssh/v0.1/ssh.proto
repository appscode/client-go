syntax = "proto3";

package ssh;

import "google/api/annotations.proto";
import "api/dtypes/types.proto";

service SSH {
  rpc Get(SSHGetRequest) returns (SSHGetResponse) {
	  option (google.api.http) = {
	    get: "/appscode/api/ssh/v0.1"
	  };
  }
}

// Use specific requests for protos
message SSHGetRequest {
  string namespace = 1;
  string cluster_name = 2;
  string instance_name = 3;
}

// return phid ?
message SSHGetResponse {
  dtypes.Status status = 1;
  SSHKey ssh_key = 2;
  string instance_addr = 3;
  int32 instance_port = 4;
  string user = 5;
  string command = 6;
}

message SSHKey {
  bytes public_key = 1;
  bytes private_key = 2;
  string aws_fingerprint = 3;
  string openssh_fingerprint = 4;
}
